## 快速幂
快速幂可以在 $O(logn)$ 的时间复杂度求得 $a^n$ 的值。

```python
def qmi(a, b, k):
    res = 1

    while b:
        if b & 1: res = res * a % k
        a = a * a % k
        b >>= 1

    return res
```

1. [acwing: 1289. 序列的第k个数](https://www.acwing.com/problem/content/1291/)

问题 1：是否存在一个序列即是等比也是等差？

$a, b, c$

$a+c = 2b$

$b^2 = a*c$

可以求出， $a=b=c$，此时无论是等比还是等差，序列值恒等。所以不会对答案产生影响。

问题 2：如果是等比，是否会存在 $p = b/a$ 不是整数？
答：不会，y由于数列元素都是整数，那么 $p$ 一定是整数。
反证法：假设 $p = b'/a'$ 是最简分式。那么一个元素就等于 $x = (p^k)*a$ ， 也就代表 $a/a'^k$ 是整数，这显然不成立。所以证明成功。


```python
def qmi(a, b):
    res = 1
    
    while b:
        if b & 1: res = res*a%MOD
        b >>= 1
        a = a*a % MOD
    
    return res

if __name__ == "__main__":
    t = int(input())
    MOD = 200907
    
    while t:
        t -= 1
        a, b, c, k = map(int, input().split())
        
        if 2*b == a+c:
            print((a+(k-1)*(b-a)) % MOD)
        else:
            print(a*qmi(b//a, k-1)%MOD)
```

