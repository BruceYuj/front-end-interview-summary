


## 树状数组
通过数组来模拟树形。为什么不直接建树？因为没有必要。

**解决问题**：可以解决大部门基于区间上的更新和求和问题。

**和线段树的区别：**
1. 常系数更小
2. 树状数组解决的问题可以由线段树解决。

**优缺点**：
1. 修改和查询的复杂度都是 $O(logN)$

**变式**：
1. 单点更新+单点查询：传统数组即可
2. 单点更新+区间查询：树状数组 or 线段树
3. 区间更新+单点查询：差分
4. 区间更新+区间查询：差分+树状数组


**建树的方式**：
1. $O(nlogn)$: `for(i = 1; i <= n; i ++) add(i, a[i])`
2. $O(n)$: 通过求每个结点直接儿子来做。两种方式：
    - `for(i = x-1; i >= x - lowbit(x) + 1; i -= lowbit(i)) c[x] += c[i]`
    - 先求出所有的前缀和；在通过定义直接求出每一个 $C[i]$ 
## reference
1. https://www.cnblogs.com/xenny/p/9739600.html
2. https://www.zhihu.com/question/54404092
3. https://www.acwing.com/solution/content/13818/