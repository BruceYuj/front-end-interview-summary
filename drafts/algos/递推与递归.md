## 汉诺塔问题 - 递归 和 递推
[面试题 08.06. 汉诺塔问题](https://leetcode-cn.com/problems/hanota-lcci/)

衍生题：衍生到 n 盘 m 塔问题。

[acwing 96. 奇怪的汉诺塔](https://www.acwing.com/problem/content/98/)

在上面一题当中，我们可以求出 3 塔的 hanoi 问题，设为 $d[n]$。

扩展到 4 塔上：
- 如果只有一个盘，只需要一步
- 如果有 n 个盘，我们考虑在 4 塔模式下将 i 个盘子移动到 B 塔；然后考虑在三塔模式下将 n-i 个盘移动到 D 塔，最后考虑在4塔下将 i 个盘子移动到 D 塔。
    - $f[n] = min(2*f[i] + d[n-i])$



## 开关类问题
1. [费解的开关](https://www.acwing.com/problem/content/97/)

开关类题目一般需求求 **让灯全亮的步数或者能否全亮**。

通常暴力的做法是：
枚举所有可能的按法：$2^{n^2}$, $n^2$ 是开关的数量。时间复杂度太高了，适合 20 个开关以内的。

一种最常见的优化思路就是剪枝：去掉那些完全不可能得到结果的解决方案。而通常剪枝技巧利用的就是题目中隐含的关系。

1. 一个开关按两次结果不变
2. 当前 $i-1$ 行已经全部变成 1，那么要让第 $i$ 行变成 1 只由第 $i+1$ 行决定，这样我们就能够在 $O(n)$ 判断出一个方案是否正确。

细节在于第 $0$ 行如何处理，也就是初始化的问题。为了防止漏解，我们可以枚举第 $0$ 行的所有开关可能，得到第 $0$ 行的初始状态，然后按照上面的技巧递推就能得到答案了。 时间复杂度为 $O(n^2*2^n)$。

> 另外一种通用解题思路就是高斯消元。

## 约数之和
1. [约数之和](https://www.acwing.com/problem/content/99/)

根据**约数之和**的公式可以得出：
$A^B= (p_1^{a_1}*...*p_k^{a_k})^B = p_1^{a_1*B}*...*p_k^{a_k*B}$

则约束之和是 $(p_1^0+p_1^1+...+p_1^{a_1*B})*...*(p_k^0+p_k^1+...+p_k^{a_k*B})$

括号内是一个等比数列，等比公式可以在 $O(1)$ 时间内求出来。问题在于等比公式是一个分数形式，并且模运算不支持除法，所以我们需要另外的方式来解决。

任意一个数，其质因数并不会有很多，一定远远少于 $sqrt(n)+1$ 的（这是我们试除法的时间复杂度）。

如果我们朴素做法求括号内的公式，需要 $O(kB)$ 的时间复杂度，太高。这里可以采用分治的思想，将大问题分割成小问题：

大问题为求 $a^0+ a^1 + ... + a^n$
- 如果 n 是偶数，共有 n+1 个元素：分为 $(a^0+...+a^{n/2-1}) + (a^{n/2} + ... + a^{n-1}) + a^n = (a^{n/2}+1)*(a^0+...+a^{n/2-1}) + a^n$
- 如果 n 是奇数，共有 n+1 个元素：
分为 $(a^0+...+a^{(n-1)/2}) + (a^{(n+1)/2} + ... + a^{n}) = (a^{(n+1)/2}+1)*(a^0+...+a^{(n-1)/2})$

